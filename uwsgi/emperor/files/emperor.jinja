{% set indent_increment = 4 %}

{%- macro emperor_block(value, key=None, operator=' = ', lb='\n', delim='', ind=0) -%}
    {%- if value != None -%}
    {%- if value is number or value is string -%}
{{ key|indent(ind, True) }}{{ operator }}{{ value }}{{ delim }}{{ lb }}
    {%- elif value is mapping -%}
        {%- for k, v in value.items() -%}
{{ emperor_block(v, k, operator, lb, delim, ind) }}
        {%- endfor %}
    {%- elif value is iterable -%}
        {%- for v in value -%}
{{ emperor_block(v, key, operator, lb, delim, ind) }}
        {%- endfor -%}
    {%- else -%}
{{ key|indent(ind, True) }}{{ operator }}{{ value }}{{ delim }}{{ lb }}
    {%- endif -%}
    {%- else -%}
    {%- endif -%}
{%- endmacro -%}

# Default uwsgi emperor configuration
#
# **** DO NOT EDIT THIS FILE ****
#
# This file is managed by Salt.
[uwsgi]
{{ emperor_block(config) }}
